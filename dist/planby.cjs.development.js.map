{"version":3,"file":"planby.cjs.development.js","sources":["../src/Epg/styles/global.styles.ts","../src/Epg/styles/Epg.styles.ts","../src/Epg/styles/Channels.styles.ts","../src/Epg/styles/Channel.styles.ts","../src/Epg/styles/Program.styles.ts","../src/Epg/helpers/variables.ts","../src/Epg/helpers/common.ts","../src/Epg/helpers/time.ts","../src/Epg/helpers/epg.ts","../src/Epg/styles/Timeline.styles.ts","../src/Epg/styles/Line.styles.ts","../src/Epg/styles/Loader.styles.ts","../src/Epg/components/Layout.tsx","../src/Epg/theme/theme.ts","../src/Epg/hooks/useLayout.tsx","../src/Epg/hooks/useEpg.tsx","../src/Epg/hooks/useInterval.tsx","../src/Epg/hooks/useProgram.tsx","../src/Epg/hooks/useTimeline.tsx","../src/Epg/components/Program.tsx","../src/Epg/components/Channels.tsx","../src/Epg/components/Channel.tsx","../src/Epg/components/Timeline.tsx","../src/Epg/components/Line/useLine.tsx","../src/Epg/components/Line/Line.tsx","../src/Epg/components/Loader.tsx","../src/Epg/Epg.tsx","../src/Epg/index.ts"],"sourcesContent":["import { css } from \"@emotion/react\";\r\n\r\nexport const globalStyles = css`\r\n  @import url(\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap\");\r\n\r\n  .planby {\r\n    font-family: \"Inter\", system-ui, -apple-system,\r\n      /* Firefox supports this but not yet system-ui */ \"Segoe UI\", Roboto,\r\n      Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\"; /* 2 */\r\n  }\r\n`;\r\n","import styled from \"@emotion/styled/macro\";\r\nimport { Theme } from \"../helpers\";\r\n\r\nexport const Container = styled.div<{\r\n  height?: number;\r\n  width?: number;\r\n}>`\r\n  padding: 5px;\r\n  height: ${({ height }) => (height ? `${height}px` : \"100%\")};\r\n  width: ${({ width }) => (width ? `${width}px` : \"100%\")};\r\n\r\n  *,\r\n  ::before,\r\n  ::after {\r\n    box-sizing: border-box;\r\n  }\r\n`;\r\n\r\nexport const Wrapper = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  border-radius: 6px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const ScrollBox = styled.div<{ theme?: Theme; isRTL?: boolean }>`\r\n  height: 100%;\r\n  width: 100%;\r\n  position: relative;\r\n  overflow: auto;\r\n  scroll-behavior: smooth;\r\n  background: ${({ theme }) => theme.primary[900]};\r\n\r\n  ${({ isRTL }) => isRTL && `transform: scale(-1,1)`};\r\n\r\n  ::-webkit-scrollbar {\r\n    width: 10px;\r\n    height: 10px;\r\n  }\r\n\r\n  ::-webkit-scrollbar-thumb {\r\n    background: ${({ theme }) => theme.scrollbar.thumb.bg};\r\n    border: 10px none ${({ theme }) => theme.white};\r\n    border-radius: 20px;\r\n  }\r\n  ::-webkit-scrollbar-thumb:hover {\r\n    background: ${({ theme }) => theme.white};\r\n  }\r\n\r\n  ::-webkit-scrollbar-track {\r\n    background: ${({ theme }) => theme.primary[900]};\r\n    border: 22px none ${({ theme }) => theme.white};\r\n    border-radius: 0px;\r\n  }\r\n\r\n  ::-webkit-scrollbar-corner {\r\n    background: ${({ theme }) => theme.primary[900]};\r\n  }\r\n`;\r\n\r\nexport const Box = styled.div<{\r\n  isRTL?: boolean;\r\n  width: number;\r\n  height: number;\r\n  left?: number;\r\n  top?: number;\r\n  theme?: Theme;\r\n}>`\r\n  position: absolute;\r\n  height: ${({ height }) => height}px;\r\n  width: ${({ width }) => width}px;\r\n  top: ${({ top = 0 }) => top}px;\r\n  background: ${({ theme }) => theme.primary[900]};\r\n  z-index: 90;\r\n\r\n  ${({ isRTL, left = 0 }) => (isRTL ? `right:0px;` : ` left: ${left}px`)};\r\n`;\r\n\r\nexport const Content = styled.div<{\r\n  width: number;\r\n  height: number;\r\n  sidebarWidth: number;\r\n  isSidebar: boolean;\r\n  theme?: Theme;\r\n}>`\r\n  background: ${({ theme }) => theme.primary[900]};\r\n  height: ${({ height }) => height}px;\r\n  width: ${({ width }) => width}px;\r\n  position: relative;\r\n  left: ${({ isSidebar, sidebarWidth }) => (isSidebar ? sidebarWidth : 0)}px;\r\n`;\r\n","import styled from \"@emotion/styled/macro\";\r\nimport { Theme } from \"../helpers\";\r\n\r\nexport const Box = styled.div<{\r\n  isTimeline: boolean;\r\n  isRTL: boolean;\r\n  width: number;\r\n  bottom: number;\r\n  theme?: Theme;\r\n}>`\r\n  position: sticky;\r\n  width: ${({ width }) => width}px;\r\n  float: left;\r\n  bottom: ${({ bottom }) => bottom}px;\r\n  left: 0;\r\n  z-index: 5;\r\n  background-color: ${({ theme }) => theme.primary[900]};\r\n\r\n  ${({ isRTL }) => isRTL && `transform: scale(-1,1)`};\r\n`;\r\n","import styled from \"@emotion/styled/macro\";\r\nimport { Theme } from \"../helpers\";\r\n\r\nexport const ChannelBox = styled.div<{\r\n  top: number;\r\n  height: number;\r\n  theme?: Theme;\r\n}>`\r\n  position: absolute;\r\n  top: ${({ top }) => top}px;\r\n  height: ${({ height }) => height}px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: ${({ theme }) => theme.primary[900]};\r\n`;\r\n\r\nexport const ChannelLogo = styled.img`\r\n  max-height: 60px;\r\n  max-width: 60px;\r\n  position: relative;\r\n`;\r\n","import styled from \"@emotion/styled/macro\";\r\nimport { Theme } from \"../helpers\";\r\n\r\nexport const ProgramBox = styled.div<{ width: number }>`\r\n  position: absolute;\r\n  padding: ${({ width }) => (width === 0 ? 0 : 4)}px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const ProgramContent = styled.div<{\r\n  isLive: boolean;\r\n  width: number;\r\n  theme?: Theme;\r\n}>`\r\n  position: relative;\r\n  display: flex;\r\n  font-size: 11px;\r\n  height: 100%;\r\n  border-radius: 8px;\r\n  padding: 10px ${({ width }) => (width < 30 ? 4 : 20)}px;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  transition: all 0.4s ease-in-out;\r\n  z-index: 1;\r\n  background: ${({ theme: { primary } }) =>\r\n    `linear-gradient(to right, ${primary[600]}, ${primary[600]})`};\r\n  &:hover {\r\n    background: ${({ theme: { gradient } }) =>\r\n      `linear-gradient(to right, ${gradient.blue[900]}, ${gradient.blue[600]})`};\r\n  }\r\n\r\n  ${({ isLive, theme: { gradient } }) =>\r\n    isLive &&\r\n    `background: linear-gradient(to right, ${gradient.blue[900]}, ${gradient.blue[600]},${gradient.blue[300]})`}\r\n`;\r\n\r\nexport const ProgramFlex = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n`;\r\n\r\nconst Elipsis = `\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nexport const ProgramTitle = styled.p<{ theme?: Theme }>`\r\n  font-size: 14px;\r\n  text-align: left;\r\n  margin-top: 0;\r\n  margin-bottom: 5px;\r\n  font-weight: 500;\r\n  color: ${({ theme }) => theme.grey[300]};\r\n  ${Elipsis}\r\n`;\r\n\r\nexport const ProgramText = styled.span<{ theme?: Theme }>`\r\n  display: block;\r\n  font-size: 12.5px;\r\n  font-weight: 400;\r\n  color: ${({ theme }) => theme.text.grey[500]};\r\n  text-align: left;\r\n  ${Elipsis}\r\n`;\r\n\r\nexport const ProgramImage = styled.img`\r\n  margin-right: 15px;\r\n  border-radius: 6px;\r\n  width: 100px;\r\n`;\r\n\r\nexport const ProgramStack = styled.div<{ isRTL?: boolean }>`\r\n  overflow: hidden;\r\n  ${({ isRTL }) =>\r\n    isRTL &&\r\n    `transform: scale(-1,1); \r\n     display: flex; \r\n     flex-direction: column; \r\n     align-items: flex-end`};\r\n`;\r\n","// Dimensions\r\nexport const DAY_WIDTH = 7200;\r\nexport const HOURS_IN_DAY = 24;\r\n\r\nexport const HOUR_IN_MINUTES = 60;\r\n\r\nexport const TIMELINE_HEIGHT = 60;\r\n\r\nexport const SIDEBAR_WIDTH = 100;\r\nexport const ITEM_HEIGHT = 80;\r\n\r\nexport const ITEM_OVERSCAN = ITEM_HEIGHT;\r\n\r\n// Debounce\r\nexport const DEBOUNCE_WAIT = 100;\r\nexport const DEBOUNCE_WAIT_MAX = 100;\r\n\r\n// Program refresh\r\nexport const PROGRAM_REFRESH = 120000;\r\n\r\n// Theme\r\nexport const THEME_MODE = {\r\n  DARK: \"dark\",\r\n  LIGHT: \"light\",\r\n};\r\n\r\nexport const TIME_FORMAT = {\r\n  DEFAULT: \"yyyy-MM-dd HH:mm:ss\",\r\n  DATE: \"yyyy-MM-dd\",\r\n  DAY_MONTH: \"dd/MM\",\r\n  HOURS_MIN: \"HH:mm\",\r\n  BASE_HOURS_TIME: \"h:mm a\",\r\n};\r\n","import { useLayoutEffect, useEffect } from \"react\";\r\nimport { differenceInHours, startOfDay } from \"date-fns\";\r\nimport { HOURS_IN_DAY } from \"./variables\";\r\n\r\ntype DateTime = string | number | Date;\r\n\r\ntype OmitObjectType = { [key: string]: any };\r\nexport const omit = (obj: OmitObjectType, ...props: string[]) => {\r\n  const result = { ...obj };\r\n\r\n  for (const property of props) {\r\n    delete result[property];\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nexport const generateArray = (num: number) => new Array(num).fill(\"\");\r\n\r\ntype ProgramOptions = {\r\n  position: { width: number; height: number; top: number; left: number };\r\n};\r\nexport const getProgramOptions = <T extends ProgramOptions>(program: T) => {\r\n  const { width, height, top, left } = program.position;\r\n  return {\r\n    ...program,\r\n    position: { width, height, top, left },\r\n  };\r\n};\r\n\r\nexport const useIsomorphicLayoutEffect = () =>\r\n  typeof window !== \"undefined\" ? useLayoutEffect : useEffect;\r\n\r\nexport const getHourWidth = (dayWidth: number) => dayWidth / HOURS_IN_DAY;\r\n\r\nexport const getDate = (date: DateTime) => new Date(date);\r\n\r\nconst abs = (num: number) => Math.abs(num);\r\ninterface DayWidth {\r\n  dayWidth: number;\r\n  startDate: DateTime;\r\n  endDate: DateTime;\r\n}\r\nexport const getDayWidthResources = ({\r\n  dayWidth,\r\n  startDate,\r\n  endDate,\r\n}: DayWidth) => {\r\n  const startDateTime = getDate(startDate);\r\n  const endDateTime = getDate(endDate);\r\n\r\n  if (endDateTime < startDateTime) {\r\n    console.error(\r\n      `Invalid endDate property. Value of endDate must be greater than startDate. Props: startDateTime: ${startDateTime}, endDateTime: ${endDateTime}`\r\n    );\r\n  }\r\n\r\n  const offsetStartHoursRange = differenceInHours(\r\n    startDateTime,\r\n    startOfDay(startDateTime)\r\n  );\r\n\r\n  const numberOfHoursInDay = differenceInHours(endDateTime, startDateTime);\r\n  const hourWidth = Math.floor(dayWidth / numberOfHoursInDay);\r\n  const newDayWidth = hourWidth * numberOfHoursInDay;\r\n\r\n  return {\r\n    hourWidth: abs(hourWidth),\r\n    dayWidth: abs(newDayWidth),\r\n    numberOfHoursInDay: abs(numberOfHoursInDay),\r\n    offsetStartHoursRange: abs(offsetStartHoursRange),\r\n  };\r\n};\r\n","import { format, roundToNearestMinutes, startOfDay, addDays } from \"date-fns\";\r\n\r\n// Import types\r\nimport { DateTime as DateRangeTime } from \"./types\";\r\n\r\n// Variables\r\nimport { TIME_FORMAT } from \"./variables\";\r\n\r\ntype DateTime = number | string | Date;\r\n\r\nconst getTime = (date: DateTime) => new Date(date).getTime();\r\n\r\nexport const getLiveStatus = (since: DateTime, till: DateTime) => {\r\n  const nowTime = getTime(new Date());\r\n  const sinceTime = getTime(since);\r\n  const sinceTill = getTime(till);\r\n  return nowTime >= sinceTime && sinceTill > nowTime;\r\n};\r\n\r\nexport const formatTime = (date: DateTime) =>\r\n  format(new Date(date), TIME_FORMAT.DEFAULT).replace(/\\s/g, \"T\");\r\n\r\nexport const roundToMinutes = (date: DateTime) =>\r\n  roundToNearestMinutes(new Date(date));\r\n\r\nexport const isYesterday = (since: DateTime, startDate: DateTime) => {\r\n  const sinceTime = getTime(new Date(since));\r\n  const startDateTime = getTime(new Date(startDate));\r\n\r\n  return startDateTime > sinceTime;\r\n};\r\n\r\nexport const isFutureTime = (date: DateTime) => {\r\n  const dateTime = getTime(new Date(date));\r\n  const now = getTime(new Date());\r\n  return dateTime > now;\r\n};\r\n\r\nexport const getTimeRangeDates = (\r\n  startDate: DateRangeTime,\r\n  endDate: DateRangeTime\r\n) => {\r\n  let endDateValue = endDate;\r\n  if (endDate === \"\") {\r\n    endDateValue = formatTime(startOfDay(addDays(new Date(startDate), 1)));\r\n  }\r\n\r\n  return { startDate, endDate: endDateValue };\r\n};\r\n","import { differenceInMinutes, getTime } from \"date-fns\";\r\n\r\n// Import interfaces\r\nimport { Channel, Program } from \"./interfaces\";\r\n\r\n// Import types\r\nimport { ProgramWithPosition, Position, DateTime } from \"./types\";\r\n\r\n// Import variables\r\nimport { HOUR_IN_MINUTES } from \"./variables\";\r\n\r\n// Import time heleprs\r\nimport {\r\n  formatTime,\r\n  roundToMinutes,\r\n  isYesterday as isYesterdayTime,\r\n} from \"./time\";\r\nimport { getDate } from \"./common\";\r\n\r\n// -------- Program width --------\r\nconst getItemDiffWidth = (diff: number, hourWidth: number) =>\r\n  (diff * hourWidth) / HOUR_IN_MINUTES;\r\n\r\nexport const getPositionX = (\r\n  since: DateTime,\r\n  till: DateTime,\r\n  startDate: DateTime,\r\n  endDate: DateTime,\r\n  hourWidth: number\r\n) => {\r\n  const isTomorrow = getTime(getDate(till)) > getTime(getDate(endDate));\r\n  const isYesterday = getTime(getDate(since)) < getTime(getDate(startDate));\r\n\r\n  // When time range is set to 1 hour and program time is greater than 1 hour\r\n  if (isYesterday && isTomorrow) {\r\n    const diffTime = differenceInMinutes(\r\n      roundToMinutes(getDate(endDate)),\r\n      getDate(startDate)\r\n    );\r\n    return getItemDiffWidth(diffTime, hourWidth);\r\n  }\r\n\r\n  if (isYesterday) {\r\n    const diffTime = differenceInMinutes(\r\n      roundToMinutes(getDate(till)),\r\n      getDate(startDate)\r\n    );\r\n    return getItemDiffWidth(diffTime, hourWidth);\r\n  }\r\n\r\n  if (isTomorrow) {\r\n    const diffTime = differenceInMinutes(\r\n      getDate(endDate),\r\n      roundToMinutes(getDate(since))\r\n    );\r\n\r\n    if (diffTime < 0) return 0;\r\n    return getItemDiffWidth(diffTime, hourWidth);\r\n  }\r\n\r\n  const diffTime = differenceInMinutes(\r\n    roundToMinutes(getDate(till)),\r\n    roundToMinutes(getDate(since))\r\n  );\r\n\r\n  return getItemDiffWidth(diffTime, hourWidth);\r\n};\r\n\r\n// -------- Channel position in the Epg --------\r\nexport const getChannelPosition = (\r\n  channelIndex: number,\r\n  itemHeight: number\r\n) => {\r\n  const top = itemHeight * channelIndex;\r\n  const position = {\r\n    top,\r\n    height: itemHeight,\r\n  };\r\n  return position;\r\n};\r\n// -------- Program position in the Epg --------\r\nexport const getProgramPosition = (\r\n  program: Program,\r\n  channelIndex: number,\r\n  itemHeight: number,\r\n  hourWidth: number,\r\n  startDate: DateTime,\r\n  endDate: DateTime\r\n) => {\r\n  const item = {\r\n    ...program,\r\n    since: formatTime(program.since),\r\n    till: formatTime(program.till),\r\n  };\r\n  const isYesterday = isYesterdayTime(item.since, startDate);\r\n\r\n  let width = getPositionX(\r\n    item.since,\r\n    item.till,\r\n    startDate,\r\n    endDate,\r\n    hourWidth\r\n  );\r\n  const top = itemHeight * channelIndex;\r\n  let left = getPositionX(startDate, item.since, startDate, endDate, hourWidth);\r\n  const edgeEnd = getPositionX(\r\n    startDate,\r\n    item.till,\r\n    startDate,\r\n    endDate,\r\n    hourWidth\r\n  );\r\n\r\n  if (isYesterday) left = 0;\r\n  // If item has negative top position, it means that it is not visible in this day\r\n  if (top < 0) width = 0;\r\n\r\n  const position = {\r\n    width,\r\n    height: itemHeight,\r\n    top,\r\n    left,\r\n    edgeEnd,\r\n  };\r\n  return { position, data: item };\r\n};\r\n\r\n// -------- Converted programs with position data --------\r\ninterface ConvertedPrograms {\r\n  data: Program[];\r\n  channels: Channel[];\r\n  startDate: DateTime;\r\n  endDate: DateTime;\r\n  itemHeight: number;\r\n  hourWidth: number;\r\n}\r\nexport const getConvertedPrograms = ({\r\n  data,\r\n  channels,\r\n  startDate,\r\n  endDate,\r\n  itemHeight,\r\n  hourWidth,\r\n}: ConvertedPrograms) =>\r\n  data.map((next) => {\r\n    const channelIndex = channels.findIndex(\r\n      ({ uuid }) => uuid === next.channelUuid\r\n    );\r\n    return getProgramPosition(\r\n      next,\r\n      channelIndex,\r\n      itemHeight,\r\n      hourWidth,\r\n      startDate,\r\n      endDate\r\n    );\r\n  }, [] as ProgramWithPosition[]);\r\n\r\n// -------- Converted channels with position data --------\r\nexport const getConvertedChannels = (channels: Channel[], itemHeight: number) =>\r\n  channels.map((channel, index) => ({\r\n    ...channel,\r\n    position: getChannelPosition(index, itemHeight),\r\n  }));\r\n\r\n// -------- Dynamic virtual program visibility in the EPG --------\r\nexport const getItemVisibility = (\r\n  position: Position,\r\n  scrollY: number,\r\n  scrollX: number,\r\n  containerHeight: number,\r\n  containerWidth: number,\r\n  itemOverscan: number\r\n) => {\r\n  if (position.width <= 0) {\r\n    return false;\r\n  }\r\n\r\n  if (scrollY > position.top + itemOverscan * 3) {\r\n    return false;\r\n  }\r\n\r\n  if (scrollY + containerHeight <= position.top) {\r\n    return false;\r\n  }\r\n\r\n  if (\r\n    scrollX + containerWidth >= position.left &&\r\n    scrollX <= position.edgeEnd\r\n  ) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nexport const getSidebarItemVisibility = (\r\n  position: Pick<Position, \"top\">,\r\n  scrollY: number,\r\n  containerHeight: number,\r\n  itemOverscan: number\r\n) => {\r\n  if (scrollY > position.top + itemOverscan * 3) {\r\n    return false;\r\n  }\r\n\r\n  if (scrollY + containerHeight <= position.top) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n","import styled from \"@emotion/styled/macro\";\r\nimport { Theme } from \"../helpers\";\r\n\r\n// Import heleprs\r\nimport { ITEM_HEIGHT } from \"../helpers\";\r\n\r\nexport const TimelineTime = styled.span<{\r\n  theme?: Theme;\r\n  isBaseTimeFormat?: boolean;\r\n  isRTL?: boolean;\r\n}>`\r\n  color: ${({ theme }) => theme.text.grey[300]};\r\n  position: absolute;\r\n  top: 18px;\r\n  left: ${({ isRTL, isBaseTimeFormat }) =>\r\n    isRTL && isBaseTimeFormat ? \"-32\" : \"-18\"}px;\r\n\r\n  ${({ isRTL }) => isRTL && `transform: scale(-1,1)`};\r\n`;\r\n\r\nexport const TimelineDividers = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  align-items: end;\r\n  padding-bottom: 6px;\r\n`;\r\n\r\nexport const TimelineDivider = styled.div<{ width: number; theme?: Theme }>`\r\n  background: ${({ theme }) => theme.timeline.divider.bg};\r\n  height: 10px;\r\n  width: 1px;\r\n  margin-right: ${({ width }) => width / 4}px;\r\n`;\r\n\r\nexport const TimelineWrapper = styled.div<{\r\n  isSidebar: boolean;\r\n  dayWidth: number;\r\n  sidebarWidth: number;\r\n  theme?: Theme;\r\n}>`\r\n  position: sticky;\r\n  top: 0;\r\n  left: ${({ isSidebar, sidebarWidth }) => (isSidebar ? sidebarWidth : 0)}px;\r\n  z-index: 5;\r\n  display: flex;\r\n  height: ${ITEM_HEIGHT - 20}px;\r\n  width: ${({ dayWidth }) => dayWidth}px;\r\n  background: ${({ theme }) => theme.primary[900]};\r\n`;\r\n\r\nexport const TimelineBox = styled.div<{ width: number }>`\r\n  width: ${({ width }) => width}px;\r\n  font-size: 14px;\r\n  position: relative;\r\n\r\n  &:first-of-type {\r\n    ${TimelineTime} {\r\n      left: 0px;\r\n    }\r\n  }\r\n`;\r\n","import styled from \"@emotion/styled/macro\";\r\nimport { Theme } from \"../helpers\";\r\n\r\nexport const Box = styled.div<{ height: number; left: number; theme?: Theme }>`\r\n  position: absolute;\r\n  top: 64px;\r\n  left: ${({ left }) => left}px;\r\n  height: ${({ height }) => height}px;\r\n  width: 3px;\r\n  background: ${({ theme }) => theme.green[300]};\r\n  pointer-events: none;\r\n  z-index: 10;\r\n`;\r\n","import styled from \"@emotion/styled/macro\";\r\nimport { keyframes } from \"@emotion/react\";\r\nimport { Theme } from \"../helpers\";\r\n\r\nconst time = [0, 50, 0];\r\n\r\nconst moveLeft = (animate: { right: string[] }) => keyframes`\r\n${time.map(\r\n  (item, index) => `${item}% {\r\n  transform: translateX(-${animate.right[index]});\r\n}`\r\n)}\r\n`;\r\n\r\nexport const Box = styled.div<{ theme?: Theme }>`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  background: ${({ theme }) => theme.loader.bg};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 100;\r\n`;\r\n\r\nexport const Shape = styled.div<{\r\n  width: number;\r\n  color: string;\r\n  marginRight?: number;\r\n  transition: { duration: number; ease?: string; delay?: number };\r\n  animate: { right: string[] };\r\n  theme?: Theme;\r\n}>`\r\n  width: ${({ width }) => width * 0.42}px;\r\n  background: ${({ color }) => color};\r\n  height: 18px;\r\n  border-radius: 45px;\r\n  margin-right: ${({ marginRight }) => marginRight ?? 0}px;\r\n  animation-name: ${({ animate }) => moveLeft(animate)};\r\n  animation-duration: ${({ transition }) => transition.duration}s;\r\n  animation-timing-function: ${({ transition }) =>\r\n    transition.ease ?? \"ease-in-out\"};\r\n  animation-delay: ${({ transition }) => transition.delay ?? 0}s;\r\n  animation-iteration-count: infinite;\r\n`;\r\n","import React from \"react\";\r\n\r\n// Import types\r\nimport {\r\n  ProgramItem,\r\n  ProgramWithPosition,\r\n  ChannelWithPosiiton,\r\n  DateTime,\r\n  Position,\r\n  BaseTimeFormat,\r\n} from \"../helpers/types\";\r\n\r\n// Import helpers\r\nimport { getProgramOptions, isFutureTime } from \"../helpers\";\r\n\r\n// Import styles\r\nimport { EpgStyled } from \"../styles\";\r\n\r\n// Import components\r\nimport { Timeline, Channels, Program, Line } from \"../components\";\r\n\r\ninterface RenderTimeline {\r\n  isBaseTimeFormat: BaseTimeFormat;\r\n  isSidebar: boolean;\r\n  isRTL: boolean;\r\n  sidebarWidth: number;\r\n  hourWidth: number;\r\n  numberOfHoursInDay: number;\r\n  offsetStartHoursRange: number;\r\n  dayWidth: number;\r\n}\r\n\r\ninterface LayoutProps {\r\n  programs: ProgramItem[];\r\n  channels: ChannelWithPosiiton[];\r\n  startDate: DateTime;\r\n  endDate: DateTime;\r\n  scrollY: number;\r\n  dayWidth: number;\r\n  hourWidth: number;\r\n  numberOfHoursInDay: number;\r\n  offsetStartHoursRange: number;\r\n  sidebarWidth: number;\r\n  itemHeight: number;\r\n  onScroll: (\r\n    e: React.UIEvent<HTMLDivElement, UIEvent> & { target: Element }\r\n  ) => void;\r\n  isRTL?: boolean;\r\n  isBaseTimeFormat?: BaseTimeFormat;\r\n  isSidebar?: boolean;\r\n  isTimeline?: boolean;\r\n  isLine?: boolean;\r\n  isProgramVisible: (position: Position) => boolean;\r\n  isChannelVisible: (position: Pick<Position, \"top\">) => boolean;\r\n  renderProgram?: (v: {\r\n    program: ProgramItem;\r\n    isRTL: boolean;\r\n    isBaseTimeFormat: BaseTimeFormat;\r\n  }) => React.ReactNode;\r\n  renderChannel?: (v: { channel: ChannelWithPosiiton }) => React.ReactNode;\r\n  renderTimeline?: (v: RenderTimeline) => React.ReactNode;\r\n}\r\n\r\nconst { ScrollBox, Content } = EpgStyled;\r\n\r\nexport const Layout = React.forwardRef<HTMLDivElement, LayoutProps>(\r\n  (props, scrollBoxRef) => {\r\n    const { channels, programs, startDate, endDate, scrollY } = props;\r\n    const { dayWidth, hourWidth, sidebarWidth, itemHeight } = props;\r\n    const { numberOfHoursInDay, offsetStartHoursRange } = props;\r\n    const {\r\n      isSidebar = true,\r\n      isTimeline = true,\r\n      isLine = true,\r\n      isBaseTimeFormat = false,\r\n      isRTL = false,\r\n    } = props;\r\n\r\n    const {\r\n      onScroll,\r\n      isProgramVisible,\r\n      isChannelVisible,\r\n      renderProgram,\r\n      renderChannel,\r\n      renderTimeline,\r\n    } = props;\r\n\r\n    const channelsLength = channels.length;\r\n    const contentHeight = React.useMemo(() => channelsLength * itemHeight, [\r\n      channelsLength,\r\n      itemHeight,\r\n    ]);\r\n    const isFuture = isFutureTime(endDate);\r\n\r\n    const renderPrograms = (program: ProgramWithPosition) => {\r\n      const { position } = program;\r\n      const isVisible = isProgramVisible(position);\r\n\r\n      if (isVisible) {\r\n        const options = getProgramOptions(program);\r\n        if (renderProgram)\r\n          return renderProgram({\r\n            program: options,\r\n            isRTL,\r\n            isBaseTimeFormat,\r\n          });\r\n        return (\r\n          <Program\r\n            key={program.data.id}\r\n            isRTL={isRTL}\r\n            isBaseTimeFormat={isBaseTimeFormat}\r\n            program={options}\r\n          />\r\n        );\r\n      }\r\n      return null;\r\n    };\r\n\r\n    const renderTopbar = () => {\r\n      const props = {\r\n        sidebarWidth,\r\n        isSidebar,\r\n        isRTL,\r\n        dayWidth,\r\n        numberOfHoursInDay,\r\n      };\r\n      const timeProps = {\r\n        offsetStartHoursRange,\r\n        numberOfHoursInDay,\r\n        isBaseTimeFormat,\r\n        hourWidth,\r\n      };\r\n      if (renderTimeline) {\r\n        return renderTimeline({ ...timeProps, ...props });\r\n      }\r\n      return <Timeline {...timeProps} {...props} />;\r\n    };\r\n\r\n    return (\r\n      <ScrollBox isRTL={isRTL} ref={scrollBoxRef} onScroll={onScroll}>\r\n        {isLine && isFuture && (\r\n          <Line\r\n            dayWidth={dayWidth}\r\n            hourWidth={hourWidth}\r\n            sidebarWidth={sidebarWidth}\r\n            startDate={startDate}\r\n            endDate={endDate}\r\n            height={contentHeight}\r\n          />\r\n        )}\r\n        {isTimeline && renderTopbar()}\r\n        {isSidebar && (\r\n          <Channels\r\n            isRTL={isRTL}\r\n            isTimeline={isTimeline}\r\n            isChannelVisible={isChannelVisible}\r\n            sidebarWidth={sidebarWidth}\r\n            channels={channels as ChannelWithPosiiton[]}\r\n            scrollY={scrollY}\r\n            renderChannel={renderChannel}\r\n          />\r\n        )}\r\n        <Content\r\n          data-testid=\"content\"\r\n          sidebarWidth={sidebarWidth}\r\n          isSidebar={isSidebar}\r\n          width={dayWidth}\r\n          height={contentHeight}\r\n        >\r\n          {programs.map((program) =>\r\n            renderPrograms(program as ProgramWithPosition)\r\n          )}\r\n        </Content>\r\n      </ScrollBox>\r\n    );\r\n  }\r\n);\r\n","export const theme = {\r\n  primary: {\r\n    600: \"#1a202c\",\r\n    900: \"#171923\",\r\n  },\r\n  grey: { 300: \"#d1d1d1\" },\r\n  white: \"#fff\",\r\n  green: {\r\n    300: \"#2C7A7B\",\r\n  },\r\n  loader: {\r\n    teal: \"#5DDADB\",\r\n    purple: \"#3437A2\",\r\n    pink: \"#F78EB6\",\r\n    bg: \"#171923db\",\r\n  },\r\n  scrollbar: {\r\n    border: \"#ffffff\",\r\n    thumb: {\r\n      bg: \"#e1e1e1\",\r\n    },\r\n  },\r\n\r\n  gradient: {\r\n    blue: {\r\n      300: \"#002eb3\",\r\n      600: \"#002360\",\r\n      900: \"#051937\",\r\n    },\r\n  },\r\n\r\n  text: {\r\n    grey: {\r\n      300: \"#a0aec0\",\r\n      500: \"#718096\",\r\n    },\r\n  },\r\n\r\n  timeline: {\r\n    divider: {\r\n      bg: \"#718096\",\r\n    },\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport { useDebouncedCallback } from \"use-debounce\";\r\nimport { startOfToday, isToday as isTodayFns } from \"date-fns\";\r\n\r\n// Import types\r\nimport { DateTime } from \"../helpers/types\";\r\n\r\n// Import heleprs\r\nimport {\r\n  DEBOUNCE_WAIT,\r\n  DEBOUNCE_WAIT_MAX,\r\n  getPositionX,\r\n  useIsomorphicLayoutEffect,\r\n} from \"../helpers\";\r\n\r\ninterface useLayoutProps {\r\n  height?: number;\r\n  width?: number;\r\n  hourWidth: number;\r\n  sidebarWidth: number;\r\n  startDate: DateTime;\r\n  endDate: DateTime;\r\n}\r\n\r\nexport function useLayout({\r\n  height,\r\n  width,\r\n  startDate,\r\n  endDate,\r\n  hourWidth,\r\n  sidebarWidth,\r\n}: useLayoutProps) {\r\n  const useIsomorphicEffect = useIsomorphicLayoutEffect();\r\n\r\n  const containerRef = React.useRef<HTMLDivElement>(null);\r\n  const scrollBoxRef = React.useRef<HTMLDivElement>(null);\r\n  //-------- State --------\r\n  const [scrollY, setScrollY] = React.useState<number>(0);\r\n  const [scrollX, setScrollX] = React.useState<number>(0);\r\n  const [layoutWidth, setLayoutWidth] = React.useState<number>(width as number);\r\n  const [layoutHeight, setLayoutHeight] = React.useState<number>(\r\n    height as number\r\n  );\r\n  const isToday = isTodayFns(new Date(startDate));\r\n\r\n  // -------- Handlers --------\r\n  const handleScrollDebounced = useDebouncedCallback(\r\n    (value) => {\r\n      setScrollY(value.y);\r\n      setScrollX(value.x);\r\n    },\r\n    DEBOUNCE_WAIT,\r\n    { maxWait: DEBOUNCE_WAIT_MAX }\r\n  );\r\n\r\n  const handleOnScroll = React.useCallback(\r\n    (e: React.UIEvent<HTMLDivElement, UIEvent> & { target: Element }) => {\r\n      handleScrollDebounced({ y: e.target.scrollTop, x: e.target.scrollLeft });\r\n    },\r\n    [handleScrollDebounced]\r\n  );\r\n\r\n  const handleOnScrollToNow = React.useCallback(() => {\r\n    if (scrollBoxRef?.current && isToday) {\r\n      const clientWidth = (width ??\r\n        containerRef.current?.clientWidth) as number;\r\n\r\n      const newDate = new Date();\r\n      const scrollPosition = getPositionX(\r\n        startOfToday(),\r\n        newDate,\r\n        startDate,\r\n        endDate,\r\n        hourWidth\r\n      );\r\n      const scrollNow = scrollPosition - clientWidth / 2 + sidebarWidth;\r\n      scrollBoxRef.current.scrollLeft = scrollNow;\r\n    }\r\n  }, [isToday, startDate, endDate, width, sidebarWidth, hourWidth]);\r\n\r\n  const handleOnScrollTop = React.useCallback(\r\n    (value: number = hourWidth) => {\r\n      if (scrollBoxRef?.current) {\r\n        const top = scrollBoxRef.current.scrollTop + value;\r\n        scrollBoxRef.current.scrollTop = top;\r\n      }\r\n    },\r\n    [hourWidth]\r\n  );\r\n\r\n  const handleOnScrollRight = React.useCallback(\r\n    (value: number = hourWidth) => {\r\n      if (scrollBoxRef?.current) {\r\n        const right = scrollBoxRef.current.scrollLeft + value;\r\n        scrollBoxRef.current.scrollLeft = right;\r\n      }\r\n    },\r\n    [hourWidth]\r\n  );\r\n\r\n  const handleOnScrollLeft = React.useCallback(\r\n    (value: number = hourWidth) => {\r\n      if (scrollBoxRef?.current) {\r\n        const left = scrollBoxRef.current.scrollLeft - value;\r\n        scrollBoxRef.current.scrollLeft = left;\r\n      }\r\n    },\r\n    [hourWidth]\r\n  );\r\n\r\n  const handleResizeDebounced = useDebouncedCallback(\r\n    () => {\r\n      if (containerRef?.current && !width) {\r\n        const container = containerRef.current;\r\n        const { clientWidth } = container;\r\n        setLayoutWidth(clientWidth);\r\n      }\r\n    },\r\n    DEBOUNCE_WAIT * 4,\r\n    { maxWait: DEBOUNCE_WAIT_MAX * 4 }\r\n  );\r\n\r\n  // -------- Efffects --------\r\n  useIsomorphicEffect(() => {\r\n    if (containerRef?.current) {\r\n      const container = containerRef.current;\r\n      if (!width) {\r\n        const { clientWidth } = container;\r\n        setLayoutWidth(clientWidth);\r\n      }\r\n      if (!height) {\r\n        const { clientHeight } = container;\r\n        setLayoutHeight(clientHeight);\r\n      }\r\n    }\r\n\r\n    if (scrollBoxRef?.current && isToday) {\r\n      handleOnScrollToNow();\r\n    }\r\n  }, [height, width, startDate, isToday, handleOnScrollToNow]);\r\n\r\n  useIsomorphicEffect(() => {\r\n    window.addEventListener(\"resize\", handleResizeDebounced);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResizeDebounced);\r\n    };\r\n  }, [width]);\r\n\r\n  return {\r\n    containerRef,\r\n    scrollBoxRef,\r\n    scrollX,\r\n    scrollY,\r\n    layoutWidth,\r\n    layoutHeight,\r\n    onScroll: handleOnScroll,\r\n    onScrollToNow: handleOnScrollToNow,\r\n    onScrollTop: handleOnScrollTop,\r\n    onScrollLeft: handleOnScrollLeft,\r\n    onScrollRight: handleOnScrollRight,\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { startOfToday } from \"date-fns\";\r\n\r\n// Import interfaces\r\nimport { Channel, Program, Theme } from \"../helpers/interfaces\";\r\n\r\n// Import types\r\nimport { DateTime, BaseTimeFormat, Position } from \"../helpers/types\";\r\n\r\n// Import helpers\r\nimport {\r\n  DAY_WIDTH,\r\n  ITEM_HEIGHT,\r\n  ITEM_OVERSCAN,\r\n  getDayWidthResources,\r\n  getTimeRangeDates,\r\n} from \"../helpers\";\r\n\r\n// Import theme\r\nimport { theme as defaultTheme } from \"../theme\";\r\n\r\n// Import heleprs\r\nimport {\r\n  SIDEBAR_WIDTH,\r\n  formatTime,\r\n  getConvertedChannels,\r\n  getConvertedPrograms,\r\n  getItemVisibility,\r\n  getSidebarItemVisibility,\r\n} from \"../helpers\";\r\n\r\n// Import components\r\nimport { useLayout } from \"./useLayout\";\r\n\r\ninterface useEpgProps {\r\n  channels: Channel[];\r\n  epg: Program[];\r\n  width?: number;\r\n  height?: number;\r\n  startDate?: DateTime;\r\n  endDate?: DateTime;\r\n  isBaseTimeFormat?: BaseTimeFormat;\r\n  isSidebar?: boolean;\r\n  isTimeline?: boolean;\r\n  isRTL?: boolean;\r\n  isLine?: boolean;\r\n  theme?: Theme;\r\n  globalStyles?: string;\r\n  dayWidth?: number;\r\n  sidebarWidth?: number;\r\n  itemHeight?: number;\r\n  itemOverscan?: number;\r\n}\r\n\r\nconst defaultStartDateTime = formatTime(startOfToday());\r\n\r\nexport function useEpg({\r\n  channels: channelsEpg,\r\n  epg,\r\n  startDate: startDateInput = defaultStartDateTime,\r\n  endDate: endDateInput = \"\",\r\n  isRTL = false,\r\n  isBaseTimeFormat = false,\r\n  isSidebar = true,\r\n  isTimeline = true,\r\n  isLine = true,\r\n  theme: customTheme,\r\n  globalStyles,\r\n  dayWidth: customDayWidth = DAY_WIDTH,\r\n  sidebarWidth = SIDEBAR_WIDTH,\r\n  itemHeight = ITEM_HEIGHT,\r\n  itemOverscan = ITEM_OVERSCAN,\r\n  width,\r\n  height,\r\n}: useEpgProps) {\r\n  // Get converted start and end dates\r\n  const { startDate, endDate } = getTimeRangeDates(\r\n    startDateInput,\r\n    endDateInput\r\n  );\r\n\r\n  // Get day and hour width of the day\r\n  const { hourWidth, dayWidth, ...dayWidthResourcesProps } = React.useMemo(\r\n    () =>\r\n      getDayWidthResources({ dayWidth: customDayWidth, startDate, endDate }),\r\n    [customDayWidth, startDate, endDate]\r\n  );\r\n\r\n  // -------- Effects --------\r\n  const { containerRef, scrollBoxRef, ...layoutProps } = useLayout({\r\n    startDate,\r\n    endDate,\r\n    sidebarWidth,\r\n    width,\r\n    height,\r\n    hourWidth,\r\n  });\r\n\r\n  const { scrollX, scrollY, layoutWidth, layoutHeight } = layoutProps;\r\n  const {\r\n    onScroll,\r\n    onScrollToNow,\r\n    onScrollTop,\r\n    onScrollLeft,\r\n    onScrollRight,\r\n  } = layoutProps;\r\n\r\n  //-------- Variables --------\r\n  const channels = React.useMemo(\r\n    () => getConvertedChannels(channelsEpg, itemHeight),\r\n    [channelsEpg, itemHeight]\r\n  );\r\n\r\n  const startDateTime = formatTime(startDate);\r\n  const endDateTime = formatTime(endDate);\r\n  const programs = React.useMemo(\r\n    () =>\r\n      getConvertedPrograms({\r\n        data: epg,\r\n        channels,\r\n        startDate: startDateTime,\r\n        endDate: endDateTime,\r\n        itemHeight,\r\n        hourWidth,\r\n      }),\r\n    [epg, channels, startDateTime, endDateTime, itemHeight, hourWidth]\r\n  );\r\n\r\n  const theme: Theme = customTheme || defaultTheme;\r\n\r\n  // -------- Handlers --------\r\n  const isProgramVisible = React.useCallback(\r\n    (position: Position) =>\r\n      getItemVisibility(\r\n        position,\r\n        scrollY,\r\n        scrollX,\r\n        layoutHeight,\r\n        layoutWidth,\r\n        itemOverscan\r\n      ),\r\n    [scrollY, scrollX, layoutHeight, layoutWidth, itemOverscan]\r\n  );\r\n\r\n  const isChannelVisible = React.useCallback(\r\n    (position: Pick<Position, \"top\">) =>\r\n      getSidebarItemVisibility(position, scrollY, layoutHeight, itemOverscan),\r\n    [scrollY, layoutHeight, itemOverscan]\r\n  );\r\n\r\n  const getEpgProps = () => ({\r\n    isRTL,\r\n    isSidebar,\r\n    isLine,\r\n    isTimeline,\r\n    width,\r\n    height,\r\n    sidebarWidth,\r\n    ref: containerRef,\r\n    theme,\r\n    globalStyles,\r\n  });\r\n\r\n  const getLayoutProps = () => ({\r\n    programs,\r\n    channels,\r\n    startDate,\r\n    endDate,\r\n    scrollY,\r\n    onScroll,\r\n    isRTL,\r\n    isBaseTimeFormat,\r\n    isSidebar,\r\n    isTimeline,\r\n    isLine,\r\n    isProgramVisible,\r\n    isChannelVisible,\r\n    dayWidth,\r\n    hourWidth,\r\n    sidebarWidth,\r\n    itemHeight,\r\n    ...dayWidthResourcesProps,\r\n    ref: scrollBoxRef,\r\n  });\r\n\r\n  return {\r\n    getEpgProps,\r\n    getLayoutProps,\r\n    onScrollToNow,\r\n    onScrollTop,\r\n    onScrollLeft,\r\n    onScrollRight,\r\n    scrollY,\r\n    scrollX,\r\n  };\r\n}\r\n","import React from \"react\";\r\n\r\n// Import heleprs\r\nimport { useIsomorphicLayoutEffect } from \"../helpers\";\r\n\r\nexport function useInterval(callback: () => void, delay: number | null) {\r\n  const useIsomorphicEffect = useIsomorphicLayoutEffect();\r\n  const savedCallback = React.useRef(callback);\r\n\r\n  useIsomorphicEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  React.useEffect(() => {\r\n    if (!delay && delay !== 0) {\r\n      return;\r\n    }\r\n\r\n    const id = setInterval(() => savedCallback.current(), delay);\r\n\r\n    return () => clearInterval(id);\r\n  }, [delay]);\r\n}\r\n","import React from \"react\";\r\nimport { format } from \"date-fns\";\r\n\r\n// Import types\r\nimport { ProgramItem, BaseTimeFormat } from \"../helpers/types\";\r\n\r\n// Import helpers\r\nimport { PROGRAM_REFRESH, TIME_FORMAT, getLiveStatus, omit } from \"../helpers\";\r\n\r\n// Import hooks\r\nimport { useInterval } from \"./useInterval\";\r\n\r\ninterface useProgramProps<T> {\r\n  program: T;\r\n  isRTL?: boolean;\r\n  isBaseTimeFormat: BaseTimeFormat;\r\n  minWidth?: number;\r\n}\r\n\r\nexport function useProgram<T extends ProgramItem>({\r\n  isRTL = false,\r\n  isBaseTimeFormat,\r\n  program,\r\n  minWidth = 200,\r\n}: useProgramProps<T>) {\r\n  const { data, position } = program;\r\n  const { width } = position;\r\n\r\n  const { since, till } = data;\r\n  const [isLive, setIsLive] = React.useState<boolean>(() =>\r\n    getLiveStatus(since, till)\r\n  );\r\n\r\n  const newPosition = omit(position, \"egdeEnd\");\r\n\r\n  const formatTime = (\r\n    date: string | number | Date,\r\n    formatType: string = TIME_FORMAT.HOURS_MIN\r\n  ) => format(new Date(date), formatType).replace(/\\s/g, \"\");\r\n\r\n  const set12HoursTimeFormat = () => {\r\n    if (isBaseTimeFormat) return TIME_FORMAT.BASE_HOURS_TIME;\r\n    return TIME_FORMAT.HOURS_MIN;\r\n  };\r\n\r\n  const setDayMonthFormat = () => {\r\n    if (isBaseTimeFormat) return TIME_FORMAT.BASE_HOURS_TIME;\r\n    return TIME_FORMAT.DAY_MONTH;\r\n  };\r\n\r\n  const getRTLSinceTime = (since: string | number | Date) =>\r\n    isRTL ? till : since;\r\n  const getRTLTillTime = (till: string | number | Date) =>\r\n    isRTL ? since : till;\r\n\r\n  useInterval(() => {\r\n    const status = getLiveStatus(since, till);\r\n    setIsLive(status);\r\n  }, PROGRAM_REFRESH);\r\n\r\n  const isMinWidth = width > minWidth;\r\n\r\n  return {\r\n    isLive,\r\n    isMinWidth,\r\n    isRTL,\r\n    formatTime,\r\n    set12HoursTimeFormat,\r\n    setDayMonthFormat,\r\n    getRTLSinceTime,\r\n    getRTLTillTime,\r\n    styles: { width, position: newPosition },\r\n  };\r\n}\r\n","import { format } from \"date-fns\";\r\n\r\n// Import types\r\nimport { BaseTimeFormat } from \"../helpers/types\";\r\n\r\n// Import helpers\r\nimport { TIME_FORMAT, generateArray } from \"../helpers\";\r\n\r\nexport function useTimeline(\r\n  numberOfHoursInDay: number,\r\n  isBaseTimeFormat: BaseTimeFormat\r\n) {\r\n  const time = generateArray(numberOfHoursInDay);\r\n  const dividers = generateArray(4);\r\n\r\n  const formatTime = (index: number) => {\r\n    const date = new Date();\r\n    const baseDate = format(date, TIME_FORMAT.DATE);\r\n    const time = index < 10 ? `0${index}` : index;\r\n\r\n    if (isBaseTimeFormat) {\r\n      const date = new Date(`${baseDate}T${time}:00:00`);\r\n      const timeFormat = format(date, TIME_FORMAT.BASE_HOURS_TIME);\r\n      return timeFormat.toLowerCase().replace(/\\s/g, \"\");\r\n    }\r\n\r\n    return `${time}:00`;\r\n  };\r\n\r\n  return { time, dividers, formatTime };\r\n}\r\n","import * as React from \"react\";\r\n\r\n// Import interfaces\r\nimport { Program as ProgramType } from \"../helpers/interfaces\";\r\nimport { BaseTimeFormat } from \"../helpers/types\";\r\n\r\n// Import types\r\nimport { ProgramItem } from \"../helpers/types\";\r\n\r\n// Import styles\r\nimport { ProgramStyled } from \"../styles\";\r\n\r\n// Import hooks\r\nimport { useProgram } from \"../hooks\";\r\n\r\ninterface ProgramProps<T> {\r\n  isRTL?: boolean;\r\n  isBaseTimeFormat: BaseTimeFormat;\r\n  program: T;\r\n  onClick?: (v: ProgramType) => void;\r\n}\r\n\r\nconst {\r\n  ProgramBox,\r\n  ProgramContent,\r\n  ProgramFlex,\r\n  ProgramStack,\r\n  ProgramTitle,\r\n  ProgramText,\r\n  ProgramImage,\r\n} = ProgramStyled;\r\n\r\nexport function Program<T extends ProgramItem>({\r\n  program,\r\n  onClick,\r\n  ...rest\r\n}: ProgramProps<T>) {\r\n  const {\r\n    isRTL,\r\n    isLive,\r\n    isMinWidth,\r\n    styles,\r\n    formatTime,\r\n    set12HoursTimeFormat,\r\n    getRTLSinceTime,\r\n    getRTLTillTime,\r\n  } = useProgram({\r\n    program,\r\n    ...rest,\r\n  });\r\n\r\n  const { data } = program;\r\n  const { image, title, since, till } = data;\r\n\r\n  const handleOnContentClick = () => onClick?.(data);\r\n\r\n  const sinceTime = formatTime(\r\n    getRTLSinceTime(since),\r\n    set12HoursTimeFormat()\r\n  ).toLowerCase();\r\n  const tillTime = formatTime(\r\n    getRTLTillTime(till),\r\n    set12HoursTimeFormat()\r\n  ).toLowerCase();\r\n\r\n  return (\r\n    <ProgramBox\r\n      data-testid=\"program-item\"\r\n      width={styles.width}\r\n      style={styles.position}\r\n    >\r\n      <ProgramContent\r\n        data-testid=\"program-content\"\r\n        width={styles.width}\r\n        isLive={isLive}\r\n        onClick={handleOnContentClick}\r\n        {...rest}\r\n      >\r\n        <ProgramFlex>\r\n          {isLive && isMinWidth && <ProgramImage src={image} alt=\"Preview\" />}\r\n          <ProgramStack isRTL={isRTL}>\r\n            <ProgramTitle>{title}</ProgramTitle>\r\n            <ProgramText aria-label=\"program time\">\r\n              {sinceTime} - {tillTime}\r\n            </ProgramText>\r\n          </ProgramStack>\r\n        </ProgramFlex>\r\n      </ProgramContent>\r\n    </ProgramBox>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\n// Import interfaces\r\nimport { ChannelWithPosiiton } from \"../helpers/types\";\r\n\r\n// Import styles\r\nimport { ChannelsStyled } from \"../styles\";\r\n\r\n// Import Components\r\nimport { Channel } from \"../components\";\r\n\r\ninterface ChannelsProps {\r\n  isTimeline: boolean;\r\n  isRTL: boolean;\r\n  isChannelVisible: (position: any) => boolean;\r\n  channels: ChannelWithPosiiton[];\r\n  scrollY: number;\r\n  sidebarWidth: number;\r\n  renderChannel?: (v: { channel: ChannelWithPosiiton }) => React.ReactNode;\r\n}\r\n\r\nconst { Box } = ChannelsStyled;\r\n\r\nexport function Channels(props: ChannelsProps) {\r\n  const { channels, scrollY, sidebarWidth, renderChannel } = props;\r\n  const { isRTL, isTimeline, isChannelVisible } = props;\r\n\r\n  const renderChannels = (channel: ChannelWithPosiiton) => {\r\n    const isVisible = isChannelVisible(channel.position);\r\n    if (isVisible) {\r\n      if (renderChannel) return renderChannel({ channel });\r\n      return <Channel key={channel.uuid} channel={channel} />;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      data-testid=\"sidebar\"\r\n      isRTL={isRTL}\r\n      isTimeline={isTimeline}\r\n      width={sidebarWidth}\r\n      bottom={scrollY}\r\n    >\r\n      {channels.map(renderChannels)}\r\n    </Box>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\n\r\n// Import interfaces\r\nimport { ChannelWithPosiiton } from \"../helpers/types\";\r\n\r\n// Import styles\r\nimport { ChannelStyled } from \"../styles\";\r\n\r\ninterface ChannelProps<T> {\r\n  channel: T;\r\n  onClick?: (v: ChannelWithPosiiton) => void;\r\n}\r\n\r\nconst { ChannelBox, ChannelLogo } = ChannelStyled;\r\n\r\nexport function Channel<T extends ChannelWithPosiiton>({\r\n  channel,\r\n  onClick,\r\n  ...rest\r\n}: ChannelProps<T>) {\r\n  const { position, logo } = channel;\r\n  return (\r\n    <ChannelBox\r\n      data-testid=\"sidebar-item\"\r\n      onClick={() => onClick?.(channel)}\r\n      {...position}\r\n      {...rest}\r\n    >\r\n      <ChannelLogo src={logo} alt=\"Logo\" />\r\n    </ChannelBox>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\n\r\n// Import types\r\nimport { BaseTimeFormat } from \"../helpers/types\";\r\n\r\n// Import styles\r\nimport { TimelineStyled } from \"../styles\";\r\n\r\n// Import hooks\r\nimport { useTimeline } from \"../hooks\";\r\n\r\nconst {\r\n  TimelineWrapper,\r\n  TimelineBox,\r\n  TimelineTime,\r\n  TimelineDividers,\r\n  TimelineDivider,\r\n} = TimelineStyled;\r\n\r\ninterface TimelineProps {\r\n  isRTL?: boolean;\r\n  isBaseTimeFormat: BaseTimeFormat;\r\n  isSidebar: boolean;\r\n  dayWidth: number;\r\n  hourWidth: number;\r\n  numberOfHoursInDay: number;\r\n  offsetStartHoursRange: number;\r\n  sidebarWidth: number;\r\n}\r\n\r\nexport function Timeline({\r\n  isRTL,\r\n  isBaseTimeFormat,\r\n  isSidebar,\r\n  dayWidth,\r\n  hourWidth,\r\n  numberOfHoursInDay,\r\n  offsetStartHoursRange,\r\n  sidebarWidth,\r\n}: TimelineProps) {\r\n  const { time, dividers, formatTime } = useTimeline(\r\n    numberOfHoursInDay,\r\n    isBaseTimeFormat\r\n  );\r\n\r\n  const renderTime = (index: number) => (\r\n    <TimelineBox data-testid=\"timeline-item\" key={index} width={hourWidth}>\r\n      <TimelineTime isBaseTimeFormat={isBaseTimeFormat} isRTL={isRTL}>\r\n        {formatTime(index + offsetStartHoursRange)}\r\n      </TimelineTime>\r\n      <TimelineDividers>{renderDividers()}</TimelineDividers>\r\n    </TimelineBox>\r\n  );\r\n\r\n  const renderDividers = () =>\r\n    dividers.map((_, index) => (\r\n      <TimelineDivider key={index} width={hourWidth} />\r\n    ));\r\n\r\n  return (\r\n    <TimelineWrapper\r\n      data-testid=\"timeline\"\r\n      dayWidth={dayWidth}\r\n      sidebarWidth={sidebarWidth}\r\n      isSidebar={isSidebar}\r\n    >\r\n      {time.map((_, index) => renderTime(index))}\r\n    </TimelineWrapper>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { startOfDay } from \"date-fns\";\r\n\r\n// Import types\r\nimport { DateTime } from \"../../helpers/types\";\r\n\r\n// Import helpers\r\nimport { HOUR_IN_MINUTES, PROGRAM_REFRESH, getPositionX } from \"../../helpers\";\r\n\r\n// Import hooks\r\nimport { useInterval } from \"../../hooks\";\r\n\r\ninterface useLineProps {\r\n  startDate: DateTime;\r\n  endDate: DateTime;\r\n  dayWidth: number;\r\n  hourWidth: number;\r\n  sidebarWidth: number;\r\n}\r\n\r\nexport function useLine({\r\n  startDate,\r\n  endDate,\r\n  dayWidth,\r\n  hourWidth,\r\n  sidebarWidth,\r\n}: useLineProps) {\r\n  const initialState =\r\n    getPositionX(\r\n      startOfDay(new Date(startDate)),\r\n      new Date(),\r\n      startDate,\r\n      endDate,\r\n      hourWidth\r\n    ) + sidebarWidth;\r\n  const [positionX, setPositionX] = React.useState<number>(() => initialState);\r\n\r\n  const isDayEnd = positionX <= dayWidth;\r\n  const isScrollX = React.useMemo(() => (isDayEnd ? PROGRAM_REFRESH : null), [\r\n    isDayEnd,\r\n  ]);\r\n\r\n  useInterval(() => {\r\n    const offset = hourWidth / HOUR_IN_MINUTES;\r\n    const positionOffset = offset * 2;\r\n    setPositionX((prev) => prev + positionOffset);\r\n  }, isScrollX);\r\n\r\n  React.useEffect(() => {\r\n    const date = new Date(startDate);\r\n    const positionX = getPositionX(\r\n      startOfDay(date),\r\n      new Date(),\r\n      startDate,\r\n      endDate,\r\n      hourWidth\r\n    );\r\n    const newPositionX = positionX + sidebarWidth;\r\n    setPositionX(newPositionX);\r\n  }, [startDate, endDate, sidebarWidth, hourWidth]);\r\n\r\n  return { positionX };\r\n}\r\n","import * as React from \"react\";\r\nimport { isToday } from \"date-fns\";\r\n\r\n// Import types\r\nimport { DateTime } from \"../../helpers/types\";\r\n\r\n// Import styles\r\nimport { LineStyled } from \"../../styles\";\r\n\r\n// Import components\r\nimport { useLine } from \"./useLine\";\r\n\r\ninterface LineProps {\r\n  height: number;\r\n  startDate: DateTime;\r\n  endDate: DateTime;\r\n  dayWidth: number;\r\n  hourWidth: number;\r\n  sidebarWidth: number;\r\n}\r\n\r\nconst { Box } = LineStyled;\r\n\r\nexport function Line({\r\n  height,\r\n  startDate,\r\n  endDate,\r\n  dayWidth,\r\n  hourWidth,\r\n  sidebarWidth,\r\n}: LineProps) {\r\n  const { positionX } = useLine({\r\n    startDate,\r\n    endDate,\r\n    dayWidth,\r\n    hourWidth,\r\n    sidebarWidth,\r\n  });\r\n\r\n  const date = new Date(startDate);\r\n  if (!isToday(date)) return null;\r\n\r\n  return <Box height={height} left={positionX} />;\r\n}\r\n","import * as React from \"react\";\r\nimport { theme } from \"../theme/theme\";\r\n\r\n// Import styles\r\nimport { LoaderStyled } from \"../styles\";\r\n\r\nconst { Box, Shape } = LoaderStyled;\r\n\r\nconst Element = ({\r\n  width,\r\n  color,\r\n  animate,\r\n  marginRight,\r\n  transition,\r\n}: {\r\n  width: number;\r\n  color: string;\r\n  transition: { duration: number; ease?: string; delay?: number };\r\n  animate: { right: string[] };\r\n  marginRight?: number;\r\n}) => (\r\n  <Shape\r\n    className=\"SHAPE\"\r\n    width={width}\r\n    color={color}\r\n    animate={animate}\r\n    transition={transition}\r\n    marginRight={marginRight}\r\n  />\r\n);\r\n\r\nexport function Loader() {\r\n  return (\r\n    <Box aria-label=\"loading\">\r\n      <div>\r\n        <div\r\n          style={{ display: \"flex\", justifyContent: \"end\", marginBottom: 16 }}\r\n        >\r\n          <Element\r\n            animate={{\r\n              right: [\"0px\", \"75px\", \"0px\"],\r\n            }}\r\n            transition={{\r\n              duration: 1,\r\n            }}\r\n            width={217}\r\n            color={theme.loader.teal}\r\n            marginRight={10}\r\n          />\r\n          <Element\r\n            width={122}\r\n            color={theme.loader.purple}\r\n            animate={{\r\n              right: [\"0px\", \"50px\", \"0px\"],\r\n            }}\r\n            transition={{\r\n              duration: 1,\r\n              delay: 0.02,\r\n            }}\r\n          />\r\n        </div>\r\n        <div\r\n          style={{ display: \"flex\", justifyContent: \"end\", marginBottom: 16 }}\r\n        >\r\n          <Element\r\n            width={267}\r\n            color={theme.loader.pink}\r\n            animate={{\r\n              right: [\"0px\", \"70px\", \"0px\"],\r\n            }}\r\n            transition={{\r\n              delay: 0.5,\r\n              duration: 1,\r\n            }}\r\n          />\r\n        </div>\r\n        <div style={{ display: \"flex\", justifyContent: \"end\" }}>\r\n          <Element\r\n            width={217}\r\n            color={theme.loader.purple}\r\n            marginRight={10}\r\n            animate={{\r\n              right: [\"0px\", \"95px\", \"0px\"],\r\n            }}\r\n            transition={{\r\n              delay: 0.3,\r\n              duration: 1,\r\n            }}\r\n          />\r\n          <Element\r\n            width={80}\r\n            color={theme.loader.teal}\r\n            animate={{\r\n              right: [\"0px\", \"70px\", \"0px\"],\r\n            }}\r\n            transition={{\r\n              duration: 1,\r\n              delay: 0.33,\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { ThemeProvider, Global } from \"@emotion/react\";\r\n\r\n// Import interfaces\r\nimport { Theme } from \"./helpers/interfaces\";\r\n\r\n// Import helpers\r\nimport { TIMELINE_HEIGHT } from \"./helpers\";\r\n\r\n// Import styles\r\nimport { globalStyles, EpgStyled } from \"./styles\";\r\n\r\n// Import components\r\nimport { Loader } from \"./components\";\r\n\r\ninterface EpgProps {\r\n  width?: number;\r\n  height?: number;\r\n  isRTL?: boolean;\r\n  isSidebar: boolean;\r\n  isTimeline?: boolean;\r\n  isLoading?: boolean;\r\n  children: React.ReactNode;\r\n  loader?: React.ReactNode;\r\n  theme: Theme;\r\n  globalStyles?: string;\r\n  sidebarWidth: number;\r\n}\r\n\r\nconst { Container, Wrapper, Box } = EpgStyled;\r\n\r\nexport const Epg = React.forwardRef<HTMLDivElement, EpgProps>(\r\n  (\r\n    {\r\n      children,\r\n      width,\r\n      height,\r\n      sidebarWidth,\r\n      theme,\r\n      globalStyles: customGlobalStyles,\r\n      isRTL = false,\r\n      isSidebar = true,\r\n      isTimeline = true,\r\n      isLoading = false,\r\n      loader: LoaderComponent,\r\n      ...rest\r\n    },\r\n    containerRef\r\n  ) => {\r\n    const renderLoader = () => LoaderComponent ?? <Loader />;\r\n    const epgGlobalStyles = customGlobalStyles ?? globalStyles;\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <Global styles={epgGlobalStyles} />\r\n        <Container\r\n          className=\"planby\"\r\n          data-testid=\"container\"\r\n          width={width}\r\n          height={height}\r\n          ref={containerRef}\r\n          {...rest}\r\n        >\r\n          <Wrapper>\r\n            {isSidebar && isTimeline && (\r\n              <Box\r\n                isRTL={isRTL}\r\n                width={sidebarWidth}\r\n                height={TIMELINE_HEIGHT}\r\n                left={0}\r\n                top={0}\r\n              />\r\n            )}\r\n            {isLoading && renderLoader()}\r\n            {children}\r\n          </Wrapper>\r\n        </Container>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n);\r\n","import { ProgramStyled, ChannelStyled, TimelineStyled } from \"./styles\";\r\n\r\n// Import types\r\nimport { Theme as ThemeType, Program as IProgram } from \"./helpers/interfaces\";\r\nimport {\r\n  ProgramItem as ProgramItemType,\r\n  ChannelWithPosiiton,\r\n  BaseTimeFormat as BaseTimeFormatType,\r\n} from \"./helpers/types\";\r\n\r\n// Types\r\nexport type Theme = ThemeType;\r\nexport type Channel = ChannelWithPosiiton;\r\nexport type Program = IProgram;\r\nexport type ProgramItem = {\r\n  program: ProgramItemType;\r\n  isRTL: boolean;\r\n  isBaseTimeFormat: BaseTimeFormatType;\r\n};\r\n\r\n// Components\r\nexport { Layout } from \"./components\";\r\nexport { Epg } from \"./Epg\";\r\nexport { useEpg, useProgram, useTimeline } from \"./hooks\";\r\n\r\n// Styles\r\nconst { ChannelBox, ChannelLogo } = ChannelStyled;\r\n\r\nconst {\r\n  ProgramBox,\r\n  ProgramContent,\r\n  ProgramFlex,\r\n  ProgramStack,\r\n  ProgramTitle,\r\n  ProgramText,\r\n  ProgramImage,\r\n} = ProgramStyled;\r\n\r\nconst {\r\n  TimelineWrapper,\r\n  TimelineBox,\r\n  TimelineTime,\r\n  TimelineDivider,\r\n  TimelineDividers,\r\n} = TimelineStyled;\r\n\r\nexport {\r\n  // Channel\r\n  ChannelBox,\r\n  ChannelLogo,\r\n  // Program\r\n  ProgramBox,\r\n  ProgramContent,\r\n  ProgramFlex,\r\n  ProgramStack,\r\n  ProgramTitle,\r\n  ProgramText,\r\n  ProgramImage,\r\n  // Timeline\r\n  TimelineWrapper,\r\n  TimelineBox,\r\n  TimelineTime,\r\n  TimelineDividers,\r\n  TimelineDivider,\r\n};\r\n"],"names":["globalStyles","css","Container","height","width","Wrapper","ScrollBox","theme","primary","isRTL","scrollbar","thumb","bg","white","Box","top","left","Content","isSidebar","sidebarWidth","bottom","ChannelBox","ChannelLogo","ProgramBox","ProgramContent","gradient","blue","isLive","ProgramFlex","Elipsis","ProgramTitle","grey","ProgramText","text","ProgramImage","ProgramStack","DAY_WIDTH","HOUR_IN_MINUTES","TIMELINE_HEIGHT","SIDEBAR_WIDTH","ITEM_HEIGHT","ITEM_OVERSCAN","DEBOUNCE_WAIT","DEBOUNCE_WAIT_MAX","PROGRAM_REFRESH","TIME_FORMAT","DEFAULT","DATE","DAY_MONTH","HOURS_MIN","BASE_HOURS_TIME","omit","obj","result","props","property","generateArray","num","Array","fill","getProgramOptions","program","position","useIsomorphicLayoutEffect","window","useLayoutEffect","useEffect","getDate","date","Date","abs","Math","getDayWidthResources","dayWidth","startDate","endDate","startDateTime","endDateTime","console","error","offsetStartHoursRange","differenceInHours","startOfDay","numberOfHoursInDay","hourWidth","floor","newDayWidth","getTime","getLiveStatus","since","till","nowTime","sinceTime","sinceTill","formatTime","format","replace","roundToMinutes","roundToNearestMinutes","isYesterday","isFutureTime","dateTime","now","getTimeRangeDates","endDateValue","addDays","getItemDiffWidth","diff","getPositionX","isTomorrow","diffTime","differenceInMinutes","getChannelPosition","channelIndex","itemHeight","getProgramPosition","item","isYesterdayTime","edgeEnd","data","getConvertedPrograms","channels","map","next","findIndex","uuid","channelUuid","getConvertedChannels","channel","index","getItemVisibility","scrollY","scrollX","containerHeight","containerWidth","itemOverscan","getSidebarItemVisibility","TimelineTime","isBaseTimeFormat","TimelineDividers","TimelineDivider","timeline","divider","TimelineWrapper","TimelineBox","green","time","moveLeft","animate","keyframes","right","loader","Shape","color","marginRight","transition","duration","ease","delay","EpgStyled","Layout","React","forwardRef","scrollBoxRef","programs","isTimeline","isLine","onScroll","isProgramVisible","isChannelVisible","renderProgram","renderChannel","renderTimeline","channelsLength","length","contentHeight","useMemo","isFuture","renderPrograms","isVisible","options","Program","key","id","renderTopbar","timeProps","Timeline","ref","Line","Channels","teal","purple","pink","border","useLayout","useIsomorphicEffect","containerRef","useRef","useState","setScrollY","setScrollX","layoutWidth","setLayoutWidth","layoutHeight","setLayoutHeight","isToday","isTodayFns","handleScrollDebounced","useDebouncedCallback","value","y","x","maxWait","handleOnScroll","useCallback","e","target","scrollTop","scrollLeft","handleOnScrollToNow","current","clientWidth","newDate","scrollPosition","startOfToday","scrollNow","handleOnScrollTop","handleOnScrollRight","handleOnScrollLeft","handleResizeDebounced","container","clientHeight","addEventListener","removeEventListener","onScrollToNow","onScrollTop","onScrollLeft","onScrollRight","defaultStartDateTime","useEpg","channelsEpg","epg","startDateInput","endDateInput","customTheme","customDayWidth","dayWidthResourcesProps","layoutProps","defaultTheme","getEpgProps","getLayoutProps","useInterval","callback","savedCallback","setInterval","clearInterval","useProgram","minWidth","setIsLive","newPosition","formatType","set12HoursTimeFormat","setDayMonthFormat","getRTLSinceTime","getRTLTillTime","status","isMinWidth","styles","useTimeline","dividers","baseDate","timeFormat","toLowerCase","ProgramStyled","onClick","rest","image","title","handleOnContentClick","tillTime","style","src","alt","ChannelsStyled","renderChannels","Channel","ChannelStyled","logo","TimelineStyled","renderTime","renderDividers","_","useLine","initialState","positionX","setPositionX","isDayEnd","isScrollX","offset","positionOffset","prev","newPositionX","LineStyled","LoaderStyled","Element","className","Loader","display","justifyContent","marginBottom","Epg","children","customGlobalStyles","isLoading","LoaderComponent","renderLoader","epgGlobalStyles","ThemeProvider","Global"],"mappings":"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"}